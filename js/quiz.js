// ===============================
// URLãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‹ã‚‰ãƒ¬ãƒ™ãƒ«ç•ªå·ã‚’å–å¾—
// ===============================
const urlParams = new URLSearchParams(window.location.search);
const level = parseInt(urlParams.get("level")) || 1;

// ã‚¿ã‚¤ãƒˆãƒ«ã«ãƒ¬ãƒ™ãƒ«ç•ªå·ã‚’åæ˜ 
document.getElementById("level-title").textContent = `ãƒ¬ãƒ™ãƒ«${level}`;


// ===============================
// DOMè¦ç´ ã®å–å¾—
// ===============================
const questionImage = document.getElementById("question-image");
const questionText = document.getElementById("question-text");
const optionsContainer = document.getElementById("options-container");
const feedback = document.getElementById("feedback");
const nextBtn = document.getElementById("next-btn");
const resultSection = document.getElementById("result-section");
const quizSection = document.getElementById("quiz-section");
const scoreText = document.getElementById("score-text");
const returnBtn = document.getElementById("return-btn");
const explanationList = document.getElementById("explanation-list");


// ===============================
// å„ãƒ¬ãƒ™ãƒ«ã®ã‚¯ã‚¤ã‚ºãƒ‡ãƒ¼ã‚¿
// ===============================
const quizSets = {
  // ğŸ”¹ ãƒ¬ãƒ™ãƒ«â‘ ï¼šèŒ¶é“å…·ã‚¯ã‚¤ã‚º
  1: [
  { question: "ã“ã‚Œã¯ä½•ã®ãŠèŒ¶é“å…·ï¼Ÿ", img: "img/game/chawan.png", options: ["èŒ¶ç¢—","èŒ¶æ“","èŒ¶ç­…","æ‡ç´™"], answer: "èŒ¶ç¢—" },
  { question: "ã“ã‚Œã¯ä½•ã®ãŠèŒ¶é“å…·ï¼Ÿ", img: "img/game/chasen.png", options: ["èŒ¶ç¢—","èŒ¶æ“","èŒ¶ç­…","èŠ±å…¥"], answer: "èŒ¶ç­…" },
  { question: "ã“ã‚Œã¯ä½•ã®ãŠèŒ¶é“å…·ï¼Ÿ", img: "img/game/chashaku.png", options: ["èŒ¶ç¢—","èŒ¶æ“","èŒ¶ç­…","æ›ç‰©"], answer: "èŒ¶æ“" },
  { question: "ã“ã‚Œã¯ä½•ã®ãŠèŒ¶é“å…·ï¼Ÿ", img: "img/game/kaisi.png", options: ["æ‡ç´™","èŒ¶ç¢—","èŒ¶æ“","èŠ±å…¥"], answer: "æ‡ç´™" },
  { question: "ã“ã‚Œã¯ä½•ã®ãŠèŒ¶é“å…·ï¼Ÿ", img: "img/game/kakeziku.png", options: ["æ›ç‰©","èŒ¶æ“","èŒ¶ç­…","èŠ±å…¥"], answer: "æ›ç‰©" },
  { question: "ã“ã‚Œã¯ä½•ã®ãŠèŒ¶é“å…·ï¼Ÿ", img: "img/game/hanaire.png", options: ["èŒ¶ç¢—","èŒ¶æ“","æ‡ç´™","èŠ±å…¥"], answer: "èŠ±å…¥" },
  { question: "ã“ã‚Œã¯ä½•ã®ãŠèŒ¶é“å…·ï¼Ÿ", img: "img/game/kensui.png", options: ["å»ºæ°´","èŒ¶æ“","èŒ¶ç­…","æ›ç‰©"], answer: "å»ºæ°´" },
  { question: "ã“ã‚Œã¯ä½•ã®ãŠèŒ¶é“å…·ï¼Ÿ", img: "img/game/natume.png", options: ["èŒ¶ç¢—","æ£—","èŒ¶æ“","èŠ±å…¥"], answer: "æ£—" },
  { question: "ã“ã‚Œã¯ä½•ã®ãŠèŒ¶é“å…·ï¼Ÿ", img: "img/game/fukusa.png", options: ["æ‡ç´™","èŒ¶æ“","èŒ¶ç¢—","è¢±ç´—"], answer: "è¢±ç´—" },
  { question: "ã“ã‚Œã¯ä½•ã®ãŠèŒ¶é“å…·ï¼Ÿ", img: "img/game/hishaku.png", options: ["èŒ¶ç¢—","æ£—","æŸ„æ“","èŠ±å…¥"], answer: "æŸ„æ“" }  ],

  // ğŸ”¹ ãƒ¬ãƒ™ãƒ«â‘¡ï¼šèŒ¶ä¼šã®ãƒãƒŠãƒ¼ã‚¯ã‚¤ã‚º
2: [
  { question: "èŒ¶å®¤ã«å…¥ã‚‹å‰ã€éœ²åœ°ã§ã¾ãšè¡Œã†ã“ã¨ã¯ï¼Ÿ", img: "img/game/sado.png", options: ["æ‡çŸ³ã‚’ã„ãŸã ã", "æŒ¨æ‹¶ã‚’ã™ã‚‹", "æ‰‹ã‚’æ¸…ã‚ã‚‹", "é´ã‚’è„±ã"], answer: "æ‰‹ã‚’æ¸…ã‚ã‚‹"},
  { question: "èŒ¶å®¤ã«å…¥ã‚‹éš›ã€æ•·å±…ã‚„ç•³ã®ç¸ï¼ˆã¸ã‚Šï¼‰ã¯ã©ã†ã™ã‚‹ï¼Ÿ", img: "img/game/sado.png", options: ["è¸ã¾ãªã„ã‚ˆã†ã«ã¾ãŸã", "è¸ã‚“ã§ã‚‚ã‚ˆã„", "å¿…ãšå·¦è¶³ã‹ã‚‰å…¥ã‚‹", "ç¸ã‚’æ’«ã§ã‚‹"], answer: "è¸ã¾ãªã„ã‚ˆã†ã«ã¾ãŸã"},
  { question: "èŒ¶å¸­ã§ãŠè“å­ã‚’ã„ãŸã ãã‚¿ã‚¤ãƒŸãƒ³ã‚°ã¯ï¼Ÿ", img: "img/game/sado.png", options: ["ãŠèŒ¶ã‚’é£²ã‚“ã å¾Œ", "ãŠèŒ¶ã‚’ç‚¹ã¦ã‚‹å‰", "å¸°ã‚‹å‰", "æœ€åˆã«å…¥å®¤ã—ãŸç›´å¾Œ"], answer: "ãŠèŒ¶ã‚’ç‚¹ã¦ã‚‹å‰"},
  { question: "ãŠè“å­ã‚’ã„ãŸã ãã¨ãã®ä¸€è¨€ã¯ï¼Ÿ", img: "img/game/sado.png", options: ["ã”ã¡ãã†ã•ã¾", "ãŠå…ˆã«", "ã„ãŸã ãã¾ã™", "ã‚ˆã‚ã—ããŠé¡˜ã„ã—ã¾ã™"], answer: "ãŠå…ˆã«"},
  { question: "èŒ¶ç¢—ã‚’å—ã‘å–ã‚‹ã¨ãã€å³æ‰‹ã¯ã©ã“ã«æ·»ãˆã‚‹ï¼Ÿ", img: "img/game/sado.png", options: ["èŒ¶ç¢—ã®å·¦å´", "èŒ¶ç¢—ã®ä¸‹", "èŒ¶ç¢—ã®å£ç¸", "èŒ¶ç¢—ã®ä¸­"], answer: "èŒ¶ç¢—ã®ä¸‹"},
  { question: "èŒ¶ã‚’é£²ã‚€å‰ã«ã€ŒãŠå…ˆã«ã€ã¨è¨€ã†ç†ç”±ã¯ï¼Ÿ", img: "img/game/sado.png", options: ["æ¬¡ã®äººã‚’æ€¥ãŒã›ã‚‹ãŸã‚", "éš£ã®å®¢ã«ç¤¼ã‚’è¡¨ã™ãŸã‚", "èŒ¶ã®æ¸©åº¦ã‚’ç¢ºã‹ã‚ã‚‹ãŸã‚", "èŒ¶ç¢—ã®å‘ãã‚’ç›´ã™ãŸã‚"], answer: "éš£ã®å®¢ã«ç¤¼ã‚’è¡¨ã™ãŸã‚"},
  { question: "èŒ¶ç¢—ã‚’å›ã—ã¦é£²ã‚€ã®ã¯ãªãœï¼Ÿ", img: "img/game/sado.png", options: ["æ­£é¢ã‚’é¿ã‘ã¦ç¤¼ã‚’è¡¨ã™ãŸã‚", "èŒ¶ã‚’æ··ãœã‚‹ãŸã‚", "èŒ¶ç¢—ã‚’å†·ã¾ã™ãŸã‚", "æ¨¡æ§˜ã‚’è¦‹ã‚„ã™ãã™ã‚‹ãŸã‚"], answer: "æ­£é¢ã‚’é¿ã‘ã¦ç¤¼ã‚’è¡¨ã™ãŸã‚"},
  { question: "é£²ã¿çµ‚ã‚ã£ãŸå¾Œã®ä¸€ç¤¼ã¯ä½•ã¸ã®æ„Ÿè¬ï¼Ÿ", img: "img/game/sado.png", options: ["èŒ¶ç¢—", "éš£ã®å®¢", "äº­ä¸»", "è‡ªåˆ†"], answer: "äº­ä¸»"},
  { question: "èŒ¶ç¢—ã‚’ç½®ãã¨ãã®æ­£ã—ã„å§¿å‹¢ã¯ï¼Ÿ", img: "img/game/sado.png", options: ["éŸ³ã‚’ç«‹ã¦ãšã«é™ã‹ã«ç½®ã", "èŒ¶ç¢—ã‚’å‚¾ã‘ã¦ç½®ã", "æ—©ãç½®ã", "èŒ¶ã‚’æ®‹ã—ã¦ç½®ã"], answer: "éŸ³ã‚’ç«‹ã¦ãšã«é™ã‹ã«ç½®ã"},
  { question: "èŒ¶ä¼šã§äº­ä¸»ãŒæœ€åˆã«è¡Œã†ã®ã¯ï¼Ÿ", img: "img/game/sado.png", options: ["èŒ¶ã‚’ç‚¹ã¦ã‚‹", "æŒ¨æ‹¶ã‚’ã™ã‚‹", "èŠ±ã‚’ç”Ÿã‘ã‚‹", "æ¹¯ã‚’æ±²ã‚€"], answer: "æŒ¨æ‹¶ã‚’ã™ã‚‹"}
],
3: [
  { question: "æŠ¹èŒ¶ã‚’ã™ãã†ãŸã‚ã®ç«¹ã®é“å…·ã¯ï¼Ÿ", img: "img/game/sado.png", options: ["èŒ¶ç­…", "èŒ¶æ“", "æ£—", "èŒ¶å…¥"], answer: "èŒ¶æ“"},
  { question: "æŠ¹èŒ¶ã‚’ç‚¹ã¦ã‚‹ã¨ãã«ä½¿ã†ç«¹è£½ã®é“å…·ã¯ï¼Ÿ", img: "img/game/sado.png", options: ["èŒ¶å·¾", "èŒ¶æ“", "èŒ¶ç­…", "å»ºæ°´"], answer: "èŒ¶ç­…"},
  { question: "èŒ¶ç¢—ã‚’æ¸…ã‚ã‚‹ãŸã‚ã«ä½¿ã†çµ¹ã®å¸ƒã¯ï¼Ÿ", img: "img/game/sado.png", options: ["æ‡ç´™", "è¢±ç´—", "èŒ¶å·¾", "èŒ¶ç­…"], answer: "èŒ¶å·¾"},
  { question: "æŠ¹èŒ¶ã‚’å…¥ã‚Œã¦ãŠãå®¹å™¨ã§ã€ä¸»ã«è–„èŒ¶ã«ä½¿ã†ã‚‚ã®ã¯ï¼Ÿ", img: "img/game/sado.png", options: ["æ£—ï¼ˆãªã¤ã‚ï¼‰", "èŒ¶å…¥ï¼ˆã¡ã‚ƒã„ã‚Œï¼‰", "å»ºæ°´ï¼ˆã‘ã‚“ã™ã„ï¼‰", "èŒ¶ç¢—"], answer: "æ£—ï¼ˆãªã¤ã‚ï¼‰"},
  { question: "æ¿ƒèŒ¶ã«ä½¿ã†èŒ¶å™¨ã¯ï¼Ÿ", img: "img/game/sado.png", options: ["æ£—", "èŒ¶å…¥", "èŒ¶ç­…", "èŒ¶æ“"], answer: "èŒ¶å…¥"},
  { question: "é‡œã®æ¹¯ã‚’ã™ãã†ç«¹ã®é“å…·ã¯ï¼Ÿ", img: "img/game/sado.png", options: ["èŒ¶æ“", "æŸ„æ“", "èŒ¶ç­…", "èŒ¶å·¾"], answer: "æŸ„æ“"},
  { question: "ä½¿ã„çµ‚ã‚ã£ãŸæ¹¯ã‚’æ¨ã¦ã‚‹å®¹å™¨ã¯ï¼Ÿ", img: "img/game/sado.png", options: ["å»ºæ°´ï¼ˆã‘ã‚“ã™ã„ï¼‰", "æ£—", "èŠ±å…¥", "èŒ¶å…¥"], answer: "å»ºæ°´ï¼ˆã‘ã‚“ã™ã„ï¼‰"},
  { question: "æ‡ç´™ï¼ˆã‹ã„ã—ï¼‰ã¯ã©ã®ã‚ˆã†ãªå ´é¢ã§ä½¿ã†ï¼Ÿ", img: "img/game/sado.png", options: ["èŒ¶ã‚’æ³¡ç«‹ã¦ã‚‹ã¨ã", "ãŠè“å­ã‚’å—ã‘ã‚‹ã¨ã", "èŒ¶ç¢—ã‚’æ¸©ã‚ã‚‹ã¨ã", "é“å…·ã‚’ç‰‡ã¥ã‘ã‚‹ã¨ã"], answer: "ãŠè“å­ã‚’å—ã‘ã‚‹ã¨ã"},
  { question: "èŠ±ã‚’ç”Ÿã‘ã‚‹ãŸã‚ã®å™¨ã¯ï¼Ÿ", img: "img/game/sado.png", options: ["æ›ç‰©", "èŠ±å…¥", "èŒ¶ç­…", "èŒ¶ç¢—"], answer: "èŠ±å…¥"},
  { question: "èŒ¶æ“ã¯ä½•ã§ä½œã‚‰ã‚Œã¦ã„ã‚‹ï¼Ÿ", img: "img/game/sado.png", options: ["ç«¹", "é™¶å™¨", "éŠ…", "æœ¨"], answer: "ç«¹"}
],
4: [
  { question: "èŒ¶å®¤ã«å…¥ã‚‹å…¥å£ã€Œèº™ã‚Šå£ï¼ˆã«ã˜ã‚Šãã¡ï¼‰ã€ãŒä½ãä½œã‚‰ã‚Œã¦ã„ã‚‹ç†ç”±ã¯ï¼Ÿ", img: "img/game/sado.png", options: ["å®¢ãŒé ­ã‚’ä¸‹ã’ã¦å…¥ã‚‹ã“ã¨ã§å¹³ç­‰ã‚’è¡¨ã™ãŸã‚","å†·æ°—ã‚’é˜²ããŸã‚","æ™¯è‰²ã‚’è¦‹ã‚„ã™ãã™ã‚‹ãŸã‚","æ¹¿æ°—ã‚’é¿ã‘ã‚‹ãŸã‚"], answer: "å®¢ãŒé ­ã‚’ä¸‹ã’ã¦å…¥ã‚‹ã“ã¨ã§å¹³ç­‰ã‚’è¡¨ã™ãŸã‚"},
  { question: "èŒ¶å®¤ã®åºƒã•ã¨ã—ã¦æœ‰åãªã€Œå››ç•³åŠã€ã¯ä½•ã‚’æ„å‘³ã™ã‚‹ï¼Ÿ", img: "img/game/sado.png", options: ["å®¢ãŒ4äººåŠåº§ã‚Œã‚‹åºƒã•","ç•³ãŒ4æšåŠæ•·ã‹ã‚ŒãŸéƒ¨å±‹","èŒ¶ç¢—4å€‹åŠã‚’ç½®ãåºƒã•","å°ã•ãªèŒ¶å®¤ã®ã“ã¨"], answer: "ç•³ãŒ4æšåŠæ•·ã‹ã‚ŒãŸéƒ¨å±‹"},
  { question: "éœ²åœ°ï¼ˆã‚ã˜ï¼‰ã¨ã¯ï¼Ÿ", img: "img/game/sado.png", options: ["èŒ¶å®¤ã«å‘ã‹ã†åº­ã®é“", "èŒ¶ç¢—ã‚’ç½®ãå°","ç‚­ã‚’ç½®ãå ´æ‰€","æ‡çŸ³ã‚’å‡ºã™éƒ¨å±‹"], answer: "èŒ¶å®¤ã«å‘ã‹ã†åº­ã®é“"},
  { question: "éœ²åœ°ã«ã‚ã‚‹ã€Œè¹²ï¼ˆã¤ãã°ã„ï¼‰ã€ã®å½¹å‰²ã¯ï¼Ÿ", img: "img/game/sado.png", options: ["é£²ã¿æ°´ã‚’ç”¨æ„ã™ã‚‹ãŸã‚", "æ‰‹ã¨å£ã‚’æ¸…ã‚ã‚‹ãŸã‚","èŒ¶ã‚’å†·ã¾ã™ãŸã‚","èŠ±ã‚’ç”Ÿã‘ã‚‹ãŸã‚"], answer: "æ‰‹ã¨å£ã‚’æ¸…ã‚ã‚‹ãŸã‚"},
  { question: "èŒ¶å®¤ã®åºŠã®é–“ã«æ›ã‘ã‚‹æ›¸ã‚„çµµã®ã“ã¨ã‚’ä½•ã¨ã„ã†ï¼Ÿ", img: "img/game/sado.png", options: ["æ›ç‰©ï¼ˆã‹ã‘ã‚‚ã®ï¼‰", "èŠ±å…¥", "å»ºæ°´", "æ£—"], answer: "æ›ç‰©ï¼ˆã‹ã‘ã‚‚ã®ï¼‰"},
  { question: "åºŠã®é–“ã«ç”Ÿã‘ã‚‹ã€ŒèŒ¶èŠ±ï¼ˆã¡ã‚ƒã°ãªï¼‰ã€ã®ç‰¹å¾´ã¯ï¼Ÿ", img: "img/game/sado.png", options: ["è¯ã‚„ã‹ã«ç››ã‚‹", "å­£ç¯€ã®èŠ±ã‚’ä¸€æã€è‡ªç„¶ã«ç”Ÿã‘ã‚‹","å¤§é‡ã®èŠ±ã‚’é£¾ã‚‹","é€ èŠ±ã‚’ç”¨ã„ã‚‹"], answer: "å­£ç¯€ã®èŠ±ã‚’ä¸€æã€è‡ªç„¶ã«ç”Ÿã‘ã‚‹"},
  { question: "èŒ¶å®¤ã®å¤©äº•ãŒä½ãä½œã‚‰ã‚Œã¦ã„ã‚‹ç†ç”±ã¯ï¼Ÿ", img: "img/game/sado.png", options: ["æ¹¿æ°—ã‚’é€ƒãŒã™ãŸã‚", "å®¢ãŒè‡ªç„¶ã«é ­ã‚’ä¸‹ã’ã‚‹ãŸã‚","å†·æˆ¿ã‚’åŠ¹ã‹ã›ã‚‹ãŸã‚","éŸ³ãŒéŸ¿ã‹ãªã„ã‚ˆã†ã«ã™ã‚‹ãŸã‚"], answer: "å®¢ãŒè‡ªç„¶ã«é ­ã‚’ä¸‹ã’ã‚‹ãŸã‚"},
  { question: "èŒ¶å®¤ã§æœ€ã‚‚é‡è¦ãªç©ºé–“ã€ŒåºŠï¼ˆã¨ã“ï¼‰ã€ã®ç›®çš„ã¯ï¼Ÿ", img: "img/game/sado.png", options: ["äº­ä¸»ã®å€‹å®¤", "ä¸»å®¢ã®å¿ƒã‚’æ˜ ã™å ´", "èŒ¶é“å…·ã‚’ä¿ç®¡ã™ã‚‹å ´æ‰€", "åº§å¸ƒå›£ã‚’ç½®ããŸã‚"], answer: "ä¸»å®¢ã®å¿ƒã‚’æ˜ ã™å ´"},
  { question: "èŒ¶åº­ã®ç¯ã‚Šã¨ã—ã¦ç”¨ã„ã‚‰ã‚Œã‚‹çŸ³é€ ç‰©ã¯ï¼Ÿ", img: "img/game/sado.png", options: ["ç¯ç± ï¼ˆã¨ã†ã‚ã†ï¼‰", "æ‰‹æ°´é‰¢", "æ›ç‰©", "æŸ„æ“"], answer: "ç¯ç± ï¼ˆã¨ã†ã‚ã†ï¼‰"},
  { question: "éœ²åœ°ã®é£›ã³çŸ³ï¼ˆã¨ã³ã„ã—ï¼‰ã¯ã©ã‚“ãªæ„å‘³ãŒã‚ã‚‹ï¼Ÿ", img: "img/game/sado.png", options: ["æ± ã‚’æ¸¡ã‚‹ãŸã‚", "æ­©å¹…ã‚’æ•´ãˆã€å¿ƒã‚’è½ã¡ç€ã‘ã‚‹ãŸã‚","è£…é£¾ã®ãŸã‚","å®¢ã®é †ç•ªã‚’ç¤ºã™ãŸã‚"], answer: "æ­©å¹…ã‚’æ•´ãˆã€å¿ƒã‚’è½ã¡ç€ã‘ã‚‹ãŸã‚"}
],
5: [
  { question: "åƒåˆ©ä¼‘ãŒé‡ã‚“ã˜ãŸã€Œå’Œæ•¬æ¸…å¯‚ï¼ˆã‚ã‘ã„ã›ã„ã˜ã‚ƒãï¼‰ã€ã®ã†ã¡ã€ã€Œå’Œã€ã¨ã¯ï¼Ÿ", img: "img/game/sado.png", options: ["å¿ƒã‚’æ¸…ã‚ã‚‹", "äººã¨èª¿å’Œã™ã‚‹", "ç¤¼ã‚’å®ˆã‚‹", "èŒ¶ã‚’æ•´ãˆã‚‹"], answer: "äººã¨èª¿å’Œã™ã‚‹"},
  { question: "ã€Œæ•¬ã€ã¨ã¯ä½•ã‚’æ„å‘³ã™ã‚‹ï¼Ÿ", img: "img/game/sado.png", options: ["äº’ã„ã«æ•¬æ„ã‚’ã‚‚ã¤å¿ƒ", "æ¸…ã‚‰ã‹ã«ã™ã‚‹ã“ã¨", "è½ã¡ç€ã„ãŸé›°å›²æ°—", "å¹³å’Œãªç©ºé–“"], answer: "äº’ã„ã«æ•¬æ„ã‚’ã‚‚ã¤å¿ƒ"},
  { question: "ã€Œæ¸…ã€ã¨ã¯ï¼Ÿ", img: "img/game/sado.png", options: ["å¿ƒã¨ç‰©ã‚’æ¸…ã‚‰ã‹ã«ä¿ã¤ã“ã¨", "éƒ¨å±‹ã‚’é£¾ã‚‹ã“ã¨", "é“å…·ã‚’é«˜ä¾¡ã«ä¿ã¤ã“ã¨", "èŒ¶ã‚’æ¿ƒãã™ã‚‹ã“ã¨"], answer: "å¿ƒã¨ç‰©ã‚’æ¸…ã‚‰ã‹ã«ä¿ã¤ã“ã¨"},
  { question: "ã€Œå¯‚ã€ã¨ã¯ï¼Ÿ", img: "img/game/sado.png", options: ["é™ã‘ã•ã®ä¸­ã«æ·±ã„å‘³ã‚ã„ã‚’è¦‹å‡ºã™å¿ƒ", "å­¤ç‹¬ã‚’æ„Ÿã˜ã‚‹ã“ã¨", "æ´¾æ‰‹ã•ã‚’æŠ‘ãˆã‚‹ã“ã¨", "å®¢ã‚’å°‘ãªãã™ã‚‹ã“ã¨"], answer: "é™ã‘ã•ã®ä¸­ã«æ·±ã„å‘³ã‚ã„ã‚’è¦‹å‡ºã™å¿ƒ"},
  { question: "ã€Œä¾˜ï¼ˆã‚ã³ï¼‰ã€ã®å¿ƒã«æœ€ã‚‚è¿‘ã„ã®ã¯ï¼Ÿ", img: "img/game/sado.png", options: ["è±ªè¯çµ¢çˆ›", "ç°¡ç´ ã§é™ã‹ãªç¾", "é®®ã‚„ã‹ã§æ´¾æ‰‹", "è±ªå¿«ãªæ¥½ã—ã•"], answer: "ç°¡ç´ ã§é™ã‹ãªç¾"},
  { question: "èŒ¶ä¼šã®é€”ä¸­ã§äº­ä¸»ãŒä¸­åº§ã—ã€å†ã³å®¢ã‚’æ‹›ãå…¥ã‚Œã‚‹ã€Œä¸­ç«‹ï¼ˆãªã‹ã ã¡ï¼‰ã€ã¯ã€ä¸»ã«ä½•ã®ãŸã‚ï¼Ÿ", img: "img/game/sado.png", options: ["æ‡çŸ³ã®å¾Œç‰‡ä»˜ã‘ã®ãŸã‚", "é“å…·ã‚’æ”¹ã‚ã‚‹ãŸã‚", "èŒ¶è“å­ã‚’å‡ºã™ãŸã‚", "å®¢ã‚’å…¥ã‚Œæ›¿ãˆã‚‹ãŸã‚"], answer: "é“å…·ã‚’æ”¹ã‚ã‚‹ãŸã‚"},
  { question: "èŒ¶ä¼šã‚’é€šã—ã¦ã€äº­ä¸»ã¨å®¢ãŒä¸€ä½“ã¨ãªã‚‹ã“ã¨ã‚’è¡¨ã™è¨€è‘‰ã¯ï¼Ÿ", img: "img/game/sado.png", options: ["ä¸€æœŸä¸€ä¼š", "ä¸€åº§å»ºç«‹", "ä¸€æœŸå…±å¿ƒ", "ä¸€ç‚¹é›†ä¸­"], answer: "ä¸€åº§å»ºç«‹"},
  { question: "ã€Œä¸€æœŸä¸€ä¼šã€ã®æ„å‘³ã¨ã—ã¦æœ€ã‚‚æ­£ã—ã„ã®ã¯ï¼Ÿ", img: "img/game/sado.png", options: ["ä¸€ç”Ÿã«ä¸€åº¦ã®å‡ºä¼šã„ã‚’å¤§åˆ‡ã«ã™ã‚‹å¿ƒ", "æ¯å›åŒã˜ä½œæ³•ã‚’ç¹°ã‚Šè¿”ã™ã“ã¨", "èŒ¶å®¤ã§ä¸€å›ã—ã‹é£²ã¾ãªã„ã“ã¨", "èŒ¶ä¼šã‚’çŸ­æ™‚é–“ã§è¡Œã†ã“ã¨"], answer: "ä¸€ç”Ÿã«ä¸€åº¦ã®å‡ºä¼šã„ã‚’å¤§åˆ‡ã«ã™ã‚‹å¿ƒ"},
  { question: "èŒ¶é“ã§æœ€ã‚‚å¤§åˆ‡ã«ã•ã‚Œã‚‹å¿ƒãŒã‘ã¨ã—ã¦æ­£ã—ã„ã‚‚ã®ã¯ï¼Ÿ", img: "img/game/sado.png", options: ["æŠ€ã‚’ç«¶ã†", "å¿ƒã‚’æ•´ãˆã‚‹", "é“å…·ã‚’æ–°ã—ãä¿ã¤", "ç¤¼ã‚’ç°¡ç•¥åŒ–ã™ã‚‹"], answer: "å¿ƒã‚’æ•´ãˆã‚‹"},
  { question: "èŒ¶ã®æ¹¯ãŒé‡è¦–ã™ã‚‹ã€Œã‚‚ã¦ãªã—ã€ã®æœ¬è³ªã¯ï¼Ÿ", img: "img/game/sado.png", options: ["ç›¸æ‰‹ã¸ã®æ€ã„ã‚„ã‚Šã¨å¿ƒé£ã„", "æ–™ç†ã®è±ªè¯ã•", "é“å…·ã®å€¤æ®µ", "èŒ¶ç¢—ã®å¤§ãã•"], answer: "ç›¸æ‰‹ã¸ã®æ€ã„ã‚„ã‚Šã¨å¿ƒé£ã„"}
]

};


// ===============================
// å„ãƒ¬ãƒ™ãƒ«ã®è§£èª¬ãƒ‡ãƒ¼ã‚¿
// ===============================
const explanationsSets = {
  1: [
  "èŒ¶ç¢—ï¼šæŠ¹èŒ¶ã‚’å…¥ã‚Œã¦ç‚¹ã¦ã‚‹å™¨ã€‚ç„¼ãç‰©ã®ç¨®é¡ã‚„å½¢ã«ã‚‚æ„å‘³ãŒã‚ã‚‹ã€‚",
  "èŒ¶ç­…ï¼šæŠ¹èŒ¶ã‚’æ³¡ç«‹ã¦ã‚‹ãŸã‚ã®ç«¹è£½ã®é“å…·ã€‚",
  "èŒ¶æ“ï¼šæŠ¹èŒ¶ã‚’ã™ãã†ãŸã‚ã®ç«¹ã®åŒ™ã€‚",
  "æ‡ç´™ï¼šãŠè“å­ã‚’å—ã‘ãŸã‚Šã€èŒ¶ç¢—ã‚’æ‹­ã„ãŸã‚Šã™ã‚‹ç´™ã€‚",
  "æ›ç‰©ï¼šåºŠã®é–“ã«æ›ã‘ã‚‹æ›¸ã‚„çµµã§ã€èŒ¶ä¼šã®ãƒ†ãƒ¼ãƒã‚’ç¤ºã™ã€‚",
  "èŠ±å…¥ï¼šèŒ¶å®¤ã«å­£ç¯€ã®èŠ±ã‚’ç”Ÿã‘ã‚‹ãŸã‚ã®å™¨ã€‚",
  "å»ºæ°´ï¼šèŒ¶ç¢—ã‚’ã™ã™ã„ã æ¹¯ã‚„æ°´ã‚’æ¨ã¦ã‚‹ãŸã‚ã®é‡‘å±ã‚„é™¶å™¨ã®å™¨ã€‚",
  "æ£—ï¼šæŠ¹èŒ¶ã‚’å…¥ã‚Œã‚‹ãŸã‚ã®æ¼†å¡—ã‚Šã®å°ã•ãªå®¹å™¨ã€‚",
  "è¢±ç´—ï¼šèŒ¶é“å…·ã‚’æ¸…ã‚ã‚‹ãŸã‚ã«ä½¿ã†çµ¹ã®å¸ƒã€‚ç´«ã¨æœ±ã®è‰²ãŒã‚ã‚‹ã€‚",
  "æŸ„æ“ï¼šé‡œã‹ã‚‰æ¹¯ã‚’æ±²ã‚€ãŸã‚ã®ç«¹è£½ã®é“å…·ã€‚"
  ],
  2: [
    "éœ²åœ°ã§æ‰‹ã‚’æ¸…ã‚ã¦å¿ƒèº«ã‚’æ•´ãˆã€èŒ¶å®¤ã«å…¥ã‚‹æº–å‚™ã‚’ã™ã‚‹ã®ãŒä½œæ³•ã§ã™ã€‚",
    "ç•³ã®ç¸ã¯è¸ã¾ãšã«ã¾ãŸãã“ã¨ã§ã€ç•³ã‚’å¤§åˆ‡ã«æ‰±ã„ã¾ã™ã€‚",
    "ãŠèŒ¶ã‚’ç‚¹ã¦ã‚‹å‰ã«ãŠè“å­ã‚’ã„ãŸã ãã“ã¨ã§ã€ç”˜ã¿ãŒèŒ¶ã®è‹¦å‘³ã¨èª¿å’Œã—ã¾ã™ã€‚",
    "èŒ¶å¸­ã§ã¯å…ˆã«ä¸€ç¤¼ã—ã¦ã€ãŠå…ˆã«ã€ã¨è¨€ã„ã€ç¤¼ã‚’è¡¨ã—ã¾ã™ã€‚",
    "å³æ‰‹ã‚’èŒ¶ç¢—ã®ä¸‹ã«æ·»ãˆã¦å—ã‘å–ã‚Šã€å®‰å®šã•ã›ã¾ã™ã€‚",
    "éš£ã®å®¢ã‚„äº­ä¸»ã«ç¤¼ã‚’ç¤ºã™ãŸã‚ã€ã€ãŠå…ˆã«ã€ã¨è¨€ã„ã¾ã™ã€‚",
    "èŒ¶ç¢—ã®æ­£é¢ã‚’é¿ã‘ã‚‹ã“ã¨ã§ã€äº­ä¸»ã‚„ç›¸æ‰‹ã¸ã®ç¤¼ã‚’ç¤ºã—ã¾ã™ã€‚",
    "äº­ä¸»ã®ã‚‚ã¦ãªã—ã¨èŒ¶ã«å¯¾ã—ã¦æ„Ÿè¬ã‚’ç¤ºã™ãŸã‚ä¸€ç¤¼ã—ã¾ã™ã€‚",
    "é™ã‹ã«ç½®ãã“ã¨ã§ã€èŒ¶å¸­ã®é›°å›²æ°—ã‚’ä¹±ã•ãšç¤¼ã‚’å°½ãã—ã¾ã™ã€‚",
    "äº­ä¸»ã¯ã¾ãšå®¢ã‚’è¿ãˆã‚‹æŒ¨æ‹¶ã‚’è¡Œã„ã€èŒ¶ä¼šã‚’å§‹ã‚ã¾ã™ã€‚"
  ],
  3: [
    "èŒ¶æ“ã¯ç«¹ã§ä½œã‚‰ã‚Œã€æŠ¹èŒ¶ã‚’èŒ¶ç¢—ã«ã™ãã†ãŸã‚ã«ä½¿ã„ã¾ã™ã€‚",
    "èŒ¶ç­…ã§æŠ¹èŒ¶ã‚’æ³¡ç«‹ã¦ã€å‡ä¸€ã«ç‚¹ã¦ã¾ã™ã€‚",
    "èŒ¶å·¾ã§èŒ¶ç¢—ã‚’æ‹­ãæ¸…ã‚ã€æ¸…æ½”ã«ä¿ã¡ã¾ã™ã€‚",
    "æ£—ã¯è–„èŒ¶ç”¨ã®æŠ¹èŒ¶å…¥ã‚Œã§ã€å°ã¶ã‚Šã§æ‰±ã„ã‚„ã™ã„ã§ã™ã€‚",
    "æ¿ƒèŒ¶ã¯èŒ¶å…¥ã«å…¥ã‚ŒãŸæŠ¹èŒ¶ã§ç‚¹ã¦ã¾ã™ã€‚",
    "æŸ„æ“ã§é‡œã®æ¹¯ã‚’ã™ãã„ã€èŒ¶ç¢—ã‚„æ°´æŒ‡ã«æ³¨ãã¾ã™ã€‚",
    "å»ºæ°´ã«èŒ¶ç¢—ã®æ®‹ã‚Šæ¹¯ã‚„ã™ã™ãæ¹¯ã‚’æ¨ã¦ã¾ã™ã€‚",
    "æ‡ç´™ã§ãŠè“å­ã‚’å—ã‘ã€æ‰‹ã‚’æ‹­ã„ãŸã‚Šæ¸…æ½”ã«ä½¿ã„ã¾ã™ã€‚",
    "èŠ±å…¥ã«èŒ¶èŠ±ã‚’ç”Ÿã‘ã€åºŠã®é–“ã«é£¾ã‚Šã¾ã™ã€‚",
    "èŒ¶æ“ã¯ç«¹ã§ä½œã‚‰ã‚Œã€æŠ¹èŒ¶ã‚’ã™ãã†é“å…·ã§ã™ã€‚"
  ],
  4: [
    "ä½ã„å…¥å£ã‚’ããã‚‹ã“ã¨ã§ã€èº«åˆ†ã‚„åœ°ä½ã®é•ã„ã‚’å¿˜ã‚Œã€å¹³ç­‰ã‚’ç¤ºã—ã¾ã™ã€‚",
    "å››ç•³åŠã¯ç•³4æšåŠåˆ†ã®åºƒã•ã‚’æŒ‡ã™ã€ä¼çµ±çš„ãªå°è¦æ¨¡èŒ¶å®¤ã§ã™ã€‚",
    "éœ²åœ°ã¯èŒ¶å®¤ã«è‡³ã‚‹åº­ã®é“ã§ã€æ­©ãã“ã¨ã§å¿ƒã‚’è½ã¡ç€ã‘ã¾ã™ã€‚",
    "è¹²ã§æ‰‹ã¨å£ã‚’æ¸…ã‚ã€å¿ƒèº«ã‚’æ•´ãˆã¦èŒ¶å®¤ã«å…¥ã‚Šã¾ã™ã€‚",
    "åºŠã®é–“ã«æ›ç‰©ã‚’é£¾ã‚Šã€èŒ¶ä¼šã®è¶£ã‚’æ¼”å‡ºã—ã¾ã™ã€‚",
    "å­£ç¯€ã®èŠ±ã‚’ä¸€æã€è‡ªç„¶ã«ç”Ÿã‘ã‚‹ã“ã¨ã§ã€é™ã‹ã§è½ã¡ç€ã„ãŸç¾ã‚’è¡¨ç¾ã—ã¾ã™ã€‚",
    "å¤©äº•ã‚’ä½ãã—ã¦ã€å®¢ãŒè‡ªç„¶ã«é ­ã‚’ä¸‹ã’ã‚‹ã“ã¨ã§è¬™è™šã•ã‚’è¡¨ã—ã¾ã™ã€‚",
    "åºŠã¯èŒ¶ä¼šã®è¶£ã‚„ç²¾ç¥æ€§ã‚’ç¤ºã™ç©ºé–“ã§ã™ã€‚",
    "ç¯ç± ã¯åº­ã®ç¯ã‚Šã¨ã—ã¦ç”¨ã„ã‚‰ã‚Œã€èŒ¶ä¼šã®æƒ…ç·’ã‚’æ¼”å‡ºã—ã¾ã™ã€‚",
    "é£›ã³çŸ³ã‚’è¸ã‚€ã“ã¨ã§æ­©å¹…ãŒæ•´ã„ã€æ­©ãé–“ã«å¿ƒãŒé™ã¾ã‚Šã¾ã™ã€‚"
  ],
  5: [
    "ã€å’Œã€ã¯ä»–äººã¨ã®èª¿å’Œã‚’æ„å‘³ã—ã€èŒ¶ä¼šã§ã®å¿ƒã®åœ¨ã‚Šæ–¹ã‚’ç¤ºã—ã¾ã™ã€‚",
    "ã€æ•¬ã€ã¯ç›¸æ‰‹ã«å¯¾ã™ã‚‹æ•¬æ„ã‚’è¡¨ã™ã“ã¨ã§ã€èŒ¶ä¼šã®åŸºæœ¬çš„ãªå§¿å‹¢ã§ã™ã€‚",
    "ã€æ¸…ã€ã¯å¿ƒã¨èŒ¶é“å…·ã®ä¸¡æ–¹ã‚’æ¸…ã‚‰ã‹ã«ä¿ã¤ã“ã¨ã‚’æ„å‘³ã—ã¾ã™ã€‚",
    "ã€å¯‚ã€ã¯é™ã‘ã•ã‚„ç°¡ç´ ã®ä¸­ã«ç¾ã‚’è¦‹å‡ºã™å¿ƒã‚’è¡¨ã—ã¾ã™ã€‚",
    "ä¾˜ã¯ç°¡ç´ ã§é™ã‹ãªç¾ã‚’é‡ã‚“ã˜ã€è½ã¡ç€ã„ãŸè¶£ã‚’è¡¨ã—ã¾ã™ã€‚",
    "ä¸­ç«‹ã¯èŒ¶é“å…·ã®ç‚¹æ¤œã‚„æ•´å‚™ã‚’è¡Œã„ã€èŒ¶ä¼šã‚’å††æ»‘ã«é€²ã‚ã‚‹ãŸã‚ã®æ™‚é–“ã§ã™ã€‚",
    "ã€ä¸€åº§å»ºç«‹ã€ã¯èŒ¶ä¼šå…¨ä½“ã‚’é€šã—ã¦ã€äº­ä¸»ã¨å®¢ãŒå¿ƒã‚’åˆã‚ã›ã‚‹ã“ã¨ã‚’æ„å‘³ã—ã¾ã™ã€‚",
    "ä¸€æœŸä¸€ä¼šã¯ä¸€ç”Ÿã«ä¸€åº¦ã®å‡ºä¼šã„ã¨ã—ã¦ã€èŒ¶ä¼šã®ã²ã¨ã¨ãã‚’å¤§åˆ‡ã«ã™ã‚‹å¿ƒã‚’ç¤ºã—ã¾ã™ã€‚",
    "èŒ¶é“ã§ã¯å¿ƒã‚’æ•´ãˆã€ç›¸æ‰‹ã¸ã®æ€ã„ã‚„ã‚Šã‚„ç¤¼ã‚’å¤§åˆ‡ã«ã™ã‚‹ã“ã¨ãŒæœ€ã‚‚é‡è¦ã§ã™ã€‚",
    "ã‚‚ã¦ãªã—ã®æœ¬è³ªã¯ã€ç›¸æ‰‹ã¸ã®æ€ã„ã‚„ã‚Šã¨å¿ƒé£ã„ã§ã‚ã‚Šã€å½¢ã ã‘ã§ãªãå¿ƒã§è¡Œã†ã“ã¨ã§ã™ã€‚"
  ]

};


// ===============================
// ç¾åœ¨ã®ãƒ¬ãƒ™ãƒ«ã«å¯¾å¿œã—ãŸå•é¡Œã‚’å–å¾—
// ===============================
const quizzes = quizSets[level] || quizSets[1];
const explanations = explanationsSets[level] || explanationsSets[1];

let currentIndex = 0;
let score = 0;


// ===============================
// å•é¡Œã‚’è¡¨ç¤º
// ===============================
function showQuestion() {
  const q = quizzes[currentIndex];
  questionImage.src = q.img;
  questionText.textContent = `ç¬¬${currentIndex + 1}å•ï¼š${q.question}`;
  optionsContainer.innerHTML = "";
  feedback.textContent = "";
  nextBtn.style.display = "none";

  q.options.forEach(option => {
    const btn = document.createElement("button");
    btn.textContent = option;
    btn.classList.add("option-btn");
    btn.addEventListener("click", () => checkAnswer(option));
    optionsContainer.appendChild(btn);
  });
}


// ===============================
// å›ç­”ãƒã‚§ãƒƒã‚¯
// ===============================
function checkAnswer(selected) {
  const correct = quizzes[currentIndex].answer;
  if (selected === correct) {
    feedback.textContent = "âœ… æ­£è§£ï¼";
    feedback.style.color = "green";
    score++;
  } else {
    feedback.textContent = `âŒ ä¸æ­£è§£ã€‚ç­”ãˆã¯ã€Œ${correct}ã€ã§ã™`;
    feedback.style.color = "red";
  }

  // ãƒœã‚¿ãƒ³ã‚’ç„¡åŠ¹åŒ–
  document.querySelectorAll(".option-btn").forEach(btn => btn.disabled = true);
  nextBtn.style.display = "inline-block";
}


// ===============================
// æ¬¡ã®å•é¡Œã¸
// ===============================
nextBtn.addEventListener("click", () => {
  currentIndex++;
  if (currentIndex >= quizzes.length) {
    showResult();
  } else {
    showQuestion();
  }
});


// ===============================
// çµæœç”»é¢ã‚’è¡¨ç¤º
// ===============================
function showResult() {
  quizSection.style.display = "none";
  resultSection.style.display = "block";
  scoreText.textContent = `ã‚ãªãŸã®å¾—ç‚¹ã¯ ${score} / ${quizzes.length} ç‚¹ã§ã™ï¼`;

  const list = document.createElement("ol");
  explanations.forEach(text => {
    const li = document.createElement("li");
    li.textContent = text;
    list.appendChild(li);
  });
  explanationList.innerHTML = "";
  explanationList.appendChild(list);
}


// ===============================
// ãƒãƒƒãƒ—ã«æˆ»ã‚‹ãƒœã‚¿ãƒ³
// ===============================
returnBtn.addEventListener("click", () => {
  window.location.href = "1.html";
});


// ===============================
// åˆå›è¡¨ç¤º
// ===============================
showQuestion();


