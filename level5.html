<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="utf-8">
    <title>study | Tea Ceremony</title>
    <meta name="description" content="Interior Designã®ãŠå•ã„åˆã‚ã›ãƒšãƒ¼ã‚¸ã§ã™ã€‚ã”ä¸æ˜ç‚¹ã‚„ã”è³ªå•ãªã©ã”ã–ã„ã¾ã—ãŸã‚‰ãŠæ°—è»½ã«ãŠå•ã„åˆã‚ã›ãã ã•ã„ã€‚">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" href="img/common/otya-icon.ico">
    <link rel="apple-touch-icon" href="img/common/otya-icon.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Zen+Kaku+Gothic+New:wght@400;500;700&family=Zen+Old+Mincho:wght@400&display=swap" rel="stylesheet">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>æ­£ã—ã„é †ç•ªã«ã‚¿ãƒƒãƒã—ã‚ˆã†</title>
<style>
  body {
    font-family: "Yu Gothic", sans-serif;
    text-align: center;
    background-color: #f9f9f9;
    padding: 20px;
  }
  h1 {
    color: #333;
    margin-bottom: 10px;
  }
  p {
    margin-bottom: 20px;
    font-size: 1.1rem;
  }

  .image-container {
    display: flex;
    justify-content: center;
    align-items: center;
    flex-wrap: wrap;
    gap: 20px;
  }

  .img-box {
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  .label {
    margin-top: 5px;
    font-weight: bold;
    font-size: 1.1rem;
  }

  .step-image {
    width: 40%;
    max-width: 200px;
    border-radius: 10px;
    border: 3px solid transparent;
    cursor: pointer;
    transition: transform 0.3s, border-color 0.3s;
  }

  .step-image:hover {
    transform: scale(1.05);
    border-color: #91c788;
  }

  .selected {
    border-color: #6fa3ef !important;
    opacity: 0.8;
  }

  #result {
    margin-top: 20px;
    font-weight: bold;
    font-size: 1.1rem;
  }

  button {
    margin-top: 15px;
    padding: 10px 25px;
    background-color: #6fa3ef;
    color: white;
    border: none;
    border-radius: 10px;
    cursor: pointer;
    font-size: 1rem;
  }

  button:hover {
    background-color: #357ae8;
  }
</style>
</head>
<body>

<h1>æ­£ã—ã„é †ç•ªã«ã‚¿ãƒƒãƒã—ã‚ˆã†</h1>
<p>ãŠç‚¹å‰ã®æ­£ã—ã„é †ç•ªã§ç”»åƒã‚’ã‚¿ãƒƒãƒã—ã¦ãã ã•ã„ã€‚</p>

<div class="image-container" id="imageContainer">
  <!-- ç”»åƒã¯JavaScriptã§å‹•çš„ã«è¡¨ç¤º -->
</div>

<p id="result"></p>
<button id="resetBtn" style="display:none;" onclick="resetQuiz()">ã‚‚ã†ä¸€åº¦æŒ‘æˆ¦</button>
<button onclick="location.href='map.html'">ãƒ­ãƒ¼ãƒ‰ã«æˆ»ã‚‹</button>

<script>
const steps = [
  {num: 1, src: "img/game/1_hakobi.jpg", alt: "é“å…·ã‚’é‹ã³å‡ºã™", label: "é“å…·ã‚’é‹ã³å‡ºã™"},
  {num: 2, src: "img/game/2_kiyomeru.jpg", alt: "é“å…·ã‚’æ¸…ã‚ã‚‹", label: "é“å…·ã‚’æ¸…ã‚ã‚‹"},
  {num: 3, src: "img/game/3_tateru.jpg", alt: "ãŠèŒ¶ã‚’ãŸã¦ã‚‹", label: "ãŠèŒ¶ã‚’ãŸã¦ã‚‹"},
  {num: 4, src: "img/game/4_sasageru.jpg", alt: "ãŠèŒ¶ã‚’å·®ã—ä¸Šã’ã‚‹", label: "ãŠèŒ¶ã‚’å·®ã—ä¸Šã’ã‚‹"},
];

const correctOrder = [1, 2, 3, 4]; // æ­£ã—ã„é †ç•ª
let currentStep = 0;
let selectedImages = [];

// é…åˆ—ã‚’ãƒ©ãƒ³ãƒ€ãƒ ã«ã‚·ãƒ£ãƒƒãƒ•ãƒ«
function shuffleArray(array) {
  for (let i = array.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [array[i], array[j]] = [array[j], array[i]];
  }
  return array;
}

// ç”»åƒã‚’è¡¨ç¤º
function loadImages() {
  const container = document.getElementById("imageContainer");
  container.innerHTML = "";

  const shuffled = shuffleArray([...steps]); // ã‚·ãƒ£ãƒƒãƒ•ãƒ«ã‚³ãƒ”ãƒ¼
  shuffled.forEach(step => {
    const div = document.createElement("div");
    div.className = "img-box";
    div.innerHTML = `
      <img src="${step.src}" alt="${step.alt}" class="step-image" onclick="selectStep(${step.num}, this)">
      <p class="label">${step.label}</p>
    `;
    container.appendChild(div);
  });
}

function selectStep(num, imgElement) {
  const result = document.getElementById("result");
  const resetBtn = document.getElementById("resetBtn");

  if (selectedImages.includes(num)) return;

  imgElement.classList.add("selected");
  selectedImages.push(num);

  if (num === correctOrder[currentStep]) {
    currentStep++;
    if (currentStep === correctOrder.length) {
      result.textContent = "ğŸ‰ æ­£è§£ã§ã™ï¼ãŠç‚¹å‰ã®é †åºã‚’ã‚ˆãç†è§£ã—ã¦ã„ã¾ã™ã€‚";
      result.style.color = "green";
      resetBtn.style.display = "inline-block";
    }
  } else {
    result.textContent = "âŒ é †ç•ªãŒé•ã„ã¾ã™ã€‚ã‚‚ã†ä¸€åº¦æŒ‘æˆ¦ã—ã¦ãã ã•ã„ã€‚";
    result.style.color = "red";
    resetBtn.style.display = "inline-block";
    disableAllImages();
  }
}

function disableAllImages() {
  const imgs = document.querySelectorAll(".step-image");
  imgs.forEach(img => {
    img.style.pointerEvents = "none";
  });
}

function resetQuiz() {
  selectedImages = [];
  currentStep = 0;
  document.getElementById("result").textContent = "";
  document.getElementById("resetBtn").style.display = "none";
  loadImages();
}

// æœ€åˆã®èª­ã¿è¾¼ã¿
loadImages();
</script>

</body>
</html>



