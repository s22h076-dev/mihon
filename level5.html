<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ãƒ¬ãƒ™ãƒ«4ï¼šæ­£ã—ã„é †ç•ªã«ã‚¿ãƒƒãƒã—ã‚ˆã†</title>
<style>
  body {
    font-family: "Yu Gothic", sans-serif;
    text-align: center;
    background-color: #f9f9f9;
    padding: 20px;
  }
  h1 {
    color: #333;
    margin-bottom: 10px;
  }
  p {
    margin-bottom: 20px;
    font-size: 1.1rem;
  }

  .image-container {
    display: flex;
    justify-content: center;
    align-items: center;
    flex-wrap: wrap;
    gap: 20px;
  }

  .step-image {
    width: 40%;
    max-width: 200px;
    border-radius: 10px;
    border: 3px solid transparent;
    cursor: pointer;
    transition: transform 0.3s, border-color 0.3s;
  }

  .step-image:hover {
    transform: scale(1.05);
    border-color: #91c788;
  }

  .selected {
    border-color: #6fa3ef !important;
    opacity: 0.8;
  }

  #result {
    margin-top: 20px;
    font-weight: bold;
    font-size: 1.1rem;
  }

  button {
    margin-top: 15px;
    padding: 10px 25px;
    background-color: #6fa3ef;
    color: white;
    border: none;
    border-radius: 10px;
    cursor: pointer;
    font-size: 1rem;
  }

  button:hover {
    background-color: #357ae8;
  }
</style>
</head>
<body>

<h1>ãƒ¬ãƒ™ãƒ«4ï¼šæ­£ã—ã„é †ç•ªã«ã‚¿ãƒƒãƒã—ã‚ˆã†</h1>
<p>ãŠç‚¹å‰ã®æ­£ã—ã„é †ç•ªã§ç”»åƒã‚’ã‚¿ãƒƒãƒã—ã¦ãã ã•ã„ã€‚</p>

<div class="image-container">
  <img src="img/game/1_hakobi.jpg" alt="é“å…·ã‚’é‹ã³å‡ºã™" class="step-image" onclick="selectStep(1)">
  <img src="img/game/2_kiyomeru.jpg" alt="é“å…·ã‚’æ¸…ã‚ã‚‹" class="step-image" onclick="selectStep(2)">
  <img src="img/game/3_tateru.jpg" alt="ãŠèŒ¶ã‚’ãŸã¦ã‚‹" class="step-image" onclick="selectStep(3)">
  <img src="img/game/4_sasageru.jpg" alt="ãŠèŒ¶ã‚’å·®ã—ä¸Šã’ã‚‹" class="step-image" onclick="selectStep(4)">
</div>

<p id="result"></p>
<button id="resetBtn" style="display:none;" onclick="resetQuiz()">ã‚‚ã†ä¸€åº¦æŒ‘æˆ¦</button>
<button onclick="location.href='level1~5.html'">ğŸ  ã‚¯ã‚¤ã‚ºä¸€è¦§ã«æˆ»ã‚‹</button>

<script>
const correctOrder = [1, 2, 3, 4]; // æ­£ã—ã„é †ç•ª
let currentStep = 0;
let selectedImages = [];

function selectStep(num) {
  const result = document.getElementById("result");
  const resetBtn = document.getElementById("resetBtn");

  // é¸æŠã•ã‚ŒãŸç”»åƒè¦ç´ ã‚’å–å¾—
  const img = document.querySelector(`img[onclick='selectStep(${num})']`);
  
  // ã™ã§ã«é¸ã‚“ã§ã„ãŸã‚‰ç„¡è¦–
  if (selectedImages.includes(num)) return;

  // ãƒã‚¤ãƒ©ã‚¤ãƒˆ
  img.classList.add("selected");
  selectedImages.push(num);

  // é¸æŠãŒæ­£ã—ã„ã‹ç¢ºèª
  if (num === correctOrder[currentStep]) {
    currentStep++;
    if (currentStep === correctOrder.length) {
      result.textContent = "ğŸ‰ æ­£è§£ã§ã™ï¼ãŠç‚¹å‰ã®é †åºã‚’ã‚ˆãç†è§£ã—ã¦ã„ã¾ã™ã€‚";
      result.style.color = "green";
      resetBtn.style.display = "inline-block";
    }
  } else {
    // é–“é•ã„ â†’ ãƒªã‚»ãƒƒãƒˆ
    result.textContent = "âŒ é †ç•ªãŒé•ã„ã¾ã™ã€‚ã‚‚ã†ä¸€åº¦æŒ‘æˆ¦ã—ã¦ãã ã•ã„ã€‚";
    result.style.color = "red";
    resetBtn.style.display = "inline-block";
    disableAllImages();
  }
}

function disableAllImages() {
  const imgs = document.querySelectorAll(".step-image");
  imgs.forEach(img => {
    img.style.pointerEvents = "none";
  });
}

function resetQuiz() {
  const imgs = document.querySelectorAll(".step-image");
  imgs.forEach(img => {
    img.classList.remove("selected");
    img.style.pointerEvents = "auto";
  });
  selectedImages = [];
  currentStep = 0;
  document.getElementById("result").textContent = "";
  document.getElementById("resetBtn").style.display = "none";
}
</script>

</body>
</html>

